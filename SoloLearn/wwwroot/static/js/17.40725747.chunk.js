webpackJsonp([17],{7001:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),c=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,s,u=n(38),l=n.n(u),f=n(0),p=n.n(f),h=n(81),d=n.n(h),g=n(19),m=n(43),b=n(72),v=n(39),y=n(10),_=n(120),w=n(7),j=n(12),x=n(7519),O=(n.n(x),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),P=function(e){return{courses:e.courses,course:e.course}},k={loadCourseInternal:_.c},C=(c=Object(g.b)(P,k))(s=function(e){function t(){var e,n,r,o;a(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={imageData:"",loading:!0},r.redirect=function(){var e=r.props,t=e.params.id,n=e.courses,a=parseInt(t,10),i=n.find(function(e){return e.id===a}),o=i.name;m.e.replace("/learn/course/"+Object(y.A)(o))},o=n,i(r,o)}return o(t,e),O(t,[{key:"componentWillMount",value:function(){function e(){return t.apply(this,arguments)}var t=r(l.a.mark(function e(){var t,n,r,a,i,o,c,s,u,f,p,h;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.params.id,r=t.loadCourseInternal,a=parseInt(n,10),this.props.course){e.next=5;break}return e.next=5,r(a);case 5:if(i=this.props.course.modules,o=i[i.length-1],c=b.c.getModuleState(o),s=c.progress,!(u=100===s)){e.next=18;break}return e.next=12,v.b.imageRequest("/DownloadCertificate",{courseId:a});case 12:f=e.sent,p=new Blob([f],{type:"image/jpeg"}),h=URL.createObjectURL(p),this.setState({imageData:h,loading:!1}),e.next=19;break;case 18:this.redirect();case 19:document.title="Certificate",d.a.ga("send","screenView",{screenName:"Certificate Page"});case 21:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.imageData;return p.a.createElement(j.l,{className:"certificate_full-height"},t?p.a.createElement(w.i,{align:!0,justify:!0,className:"certificate_container"},p.a.createElement(j.e,{loading:!0})):p.a.createElement(w.i,{align:!0,justify:!0,className:"certificate_container"},p.a.createElement(w.o,{className:"certificate_image",src:n,alt:"Certificate"})))}}]),t}(f.PureComponent))||s;t.default=C},7519:function(e,t,n){var r=n(7520);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0,a.insertInto=void 0;n(6)(r,a);r.locals&&(e.exports=r.locals)},7520:function(e,t,n){t=e.exports=n(5)(void 0),t.push([e.i,".certificate_full-height {\n  padding: 0;\n  height: calc(100vh - 50px); }\n  .certificate_full-height .certificate_container {\n    height: 100%; }\n    .certificate_full-height .certificate_container .certificate_image {\n      height: 100%; }\n",""])}});
//# sourceMappingURL=17.40725747.chunk.js.map